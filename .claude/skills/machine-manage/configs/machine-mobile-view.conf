# Machine Mobile View Tmux Style Configuration
# 物理机移动视图的 tmux 会话样式配置
# 用于 machine-mobile-view - 简化版本，只显示窗口列表
#
# NOTE: This config uses SESSION-SPECIFIC settings (set -t) to avoid
# interfering with other sessions' styles

# ============================================
# 状态栏配置 - SESSION SPECIFIC
# Mobile 视图保留简化的状态栏显示窗口列表
# ============================================
set -t machine-mobile-view status on
set -t machine-mobile-view status-interval 5
set -t machine-mobile-view status-position bottom
set -t machine-mobile-view status-justify left

# 状态栏颜色 - 蓝色系
set -t machine-mobile-view status-style bg=colour234,fg=colour33

# ============================================
# 左侧状态栏 - 清空（简化）
# ============================================
set -t machine-mobile-view status-left-length 0
set -t machine-mobile-view status-left ''

# ============================================
# 右侧状态栏 - 显示CPU/内存使用率（跨平台版本，支持macOS和Linux）
# ============================================
set -t machine-mobile-view status-right-length 35
set -t machine-mobile-view status-right '#[fg=colour39]CPU:#[fg=colour117]#(cd $HOME/repos/univers-machine && .claude/skills/machine-manage/scripts/system-stats-cross-platform.sh)'

# ============================================
# 窗口状态样式 - SESSION SPECIFIC
# ============================================
# 非活动窗口 - 灰蓝色
set -t machine-mobile-view window-status-format '#[fg=colour61] #I:#W '

# 当前窗口 - 亮蓝色加粗 + 勾号
set -t machine-mobile-view window-status-current-format '#[fg=colour39,bold] #I:#W #[fg=colour33]✓'

# 窗口活动通知 - 青色
set -t machine-mobile-view window-status-activity-style fg=colour51,bg=colour234

# ============================================
# 面板边框 - SESSION SPECIFIC
# ============================================
set -t machine-mobile-view pane-border-style fg=colour238
set -t machine-mobile-view pane-active-border-style fg=colour33

# ============================================
# 消息样式 - SESSION SPECIFIC
# ============================================
set -t machine-mobile-view message-style fg=colour232,bg=colour39,bold

# ============================================
# 时钟模式 - SESSION SPECIFIC
# ============================================
set -t machine-mobile-view clock-mode-colour colour39

# ============================================
# 状态栏格式 - SESSION SPECIFIC
# 必须明确设置 status-format 以支持鼠标点击窗口列表
# ============================================
set -t machine-mobile-view status-format[0] '#[align=left range=left #{E:status-left-style}]#[push-default]#{T;=/#{status-left-length}:status-left}#[pop-default]#[norange default]#[list=on align=#{status-justify}]#[list=left-marker]<#[list=right-marker]>#[list=on]#{W:#[range=window|#{window_index} #{E:window-status-style}#{?#{&&:#{window_last_flag},#{!=:#{E:window-status-last-style},default}}, #{E:window-status-last-style},}#{?#{&&:#{window_bell_flag},#{!=:#{E:window-status-bell-style},default}}, #{E:window-status-bell-style},#{?#{&&:#{||:#{window_activity_flag},#{window_silence_flag}},#{!=:#{E:window-status-activity-style},default}}, #{E:window-status-activity-style},}}]#[push-default]#{T:window-status-format}#[pop-default]#[norange default]#{?window_end_flag,,#{window-status-separator}},#[range=window|#{window_index} list=focus #{?#{!=:#{E:window-status-current-style},default},#{E:window-status-current-style},#{E:window-status-style}}#{?#{&&:#{window_last_flag},#{!=:#{E:window-status-last-style},default}}, #{E:window-status-last-style},}#{?#{&&:#{window_bell_flag},#{!=:#{E:window-status-bell-style},default}}, #{E:window-status-bell-style},#{?#{&&:#{||:#{window_activity_flag},#{window_silence_flag}},#{!=:#{E:window-status-activity-style},default}}, #{E:window-status-activity-style},}}]#[push-default]#{T:window-status-current-format}#[pop-default]#[norange list=on default]#{?window_end_flag,,#{window-status-separator}}}#[nolist align=right range=right #{E:status-right-style}]#[push-default]#{T;=/#{status-right-length}:status-right}#[pop-default]#[norange default]'
set -t machine-mobile-view status-format[1] '#[align=centre]#{P:#{?pane_active,#[reverse],}#{pane_index}[#{pane_width}x#{pane_height}]#[default] }'